<div class="product-card" *ngIf="product"
     [class.is-light]="isLight" (click)="navigate()"
>
  <div class="product-card-favorite" *ngIf="!isLight && isLoggedIn" (click)="updateFavorite()">
    <span *ngIf="!product.isInFavorite">
        <svg width="24.000000" height="24.000000" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink">
        <path id="Vector"
              d="M12 20.84C11.71 20.84 11.44 20.8 11.21 20.72C7.7 19.52 2.14 15.26 2.14 8.96C2.14 5.75 4.73 3.15 7.92 3.15C9.47 3.15 10.92 3.75 12 4.84C13.07 3.75 14.52 3.15 16.06 3.15C19.25 3.15 21.85 5.76 21.85 8.96C21.85 15.27 16.29 19.52 12.78 20.72C12.55 20.8 12.28 20.84 12 20.84ZM7.92 4.52C5.5 4.52 3.52 6.51 3.52 8.96C3.52 15.22 9.54 18.71 11.66 19.43C11.82 19.48 12.18 19.48 12.34 19.43C14.45 18.71 20.48 15.23 20.48 8.96C20.48 6.51 18.5 4.52 16.07 4.52C14.68 4.52 13.39 5.18 12.55 6.3C12.3 6.65 11.71 6.65 11.45 6.3C10.6 5.17 9.32 4.52 7.92 4.52Z"
              fill="#383838" fill-opacity="1.000000" fill-rule="nonzero"/>
        <g opacity="0.000000"/>
      </svg>
    </span>
    <span *ngIf="product.isInFavorite">
        <svg width="19.708008" height="17.691895" viewBox="0 0 19.708 17.6919" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path id="Vector" d="M9.06 17.57C9.29 17.65 9.57 17.69 9.85 17.69C10.13 17.69 10.41 17.65 10.64 17.57C14.14 16.37 19.7 12.11 19.7 5.81C19.7 2.61 17.11 0 13.92 0C12.37 0 10.92 0.6 9.85 1.68C8.78 0.6 7.33 0 5.78 0C2.59 0 0 2.6 0 5.81C0 12.1 5.56 16.37 9.06 17.57Z" fill="#B6D5B9" fill-opacity="1.000000" fill-rule="evenodd"/>
        </svg>
    </span>

  </div>
  <div class="product-card-image" style="background-image: url({{serverStaticPath + product.image}})"></div>
  <div class="product-card-name">{{product.name}}</div>

  <div class="product-card-info" *ngIf="!isLight">
    <div class="product-card-price">
      {{product.price}} BYN
    </div>
    <div class="product-card-action">
      <button class="button" *ngIf="!countInCart" (click)="addToCart()">В корзину</button>
      <button class="button button-transparent button-in-cart" *ngIf="countInCart" (click)="removeFromCart()">
        <span>В корзине</span>
        <span>Удалить</span>
      </button>
    </div>
  </div>
  <div class="product-card-extra" *ngIf="!isLight">
    <count-selector [count]="count" (onCountChange)="updateCount($event)"></count-selector>
    <a [routerLink]="'/product/' + product.url" class="product-card-detail">
      <svg width="17.333008" height="4.000000" viewBox="0 0 17.333 4" fill="none" xmlns="http://www.w3.org/2000/svg"
           xmlns:xlink="http://www.w3.org/1999/xlink">
        <circle id="Ellipse 2" cx="2.000000" cy="2.000000" r="2.000000" fill="#9AA89B" fill-opacity="1.000000"/>
        <circle id="Ellipse 3" cx="8.666016" cy="2.000000" r="2.000000" fill="#9AA89B" fill-opacity="1.000000"/>
        <circle id="Ellipse 4" cx="15.333008" cy="2.000000" r="2.000000" fill="#9AA89B" fill-opacity="1.000000"/>
      </svg>
      <span>Подробнее</span>
    </a>
  </div>
</div>
